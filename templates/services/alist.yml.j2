version: '3.3'
services:
  alist:
    image: 'xhofe/alist:latest'
    container_name: alist
    volumes:
      - "{{ services.alist.data_path }}:/opt/alist/data"
      - "{{ root_path }}/archive:/archive"
      - "{{ media_path }}/library:/library"
    ports:
      - "{{ services.alist.port }}:5244"
    environment:
      - PUID={{ user_id }}
      - PGID={{ group_id }}
      - UMASK=022
    restart: unless-stopped
    networks:
      - {{ docker_network }}

networks:
  {{ docker_network }}:
    external: true
